var artboard=activeDocument.activeArtboard;var raster;frederickkScript={FTime:{},FIO:{},F3D:{},random:function(b,a){if(a===undefined){a=b;b=0}return(b+Math.random()*(a-b))},randomInt:function(b,a){return parseInt(frederickkScript.random(b,a))},randomBias:function(d,c,a){var e=new Array(90,9,4,2.33,1.5,1,0.66,0.43,0.25,0.11,0.01);a=Math.max(0,Math.min(a,1))*10;var b=parseInt(Math.floor(a));var f=e[b];if(a<10){f+=(e[b+1]-f)*(a-b)}return Math.pow(Math.random(),f)*(c-d)+d},clamp:function(c,b,a){return c<b?b:c>a?b:c},norm:function(b,c,a){return(b-c)/(a-c)},map:function(d,b,c,a,e){return a+(e-a)*((d-b)/(c-b))},roundDecimal:function(c,a){var b=Math.pow(10,a);return Math.round(c*b)/b},snap:function(c,a,b){if(b===undefined){b=Math.round}return a*b(c/a)},lerp:function(c,a,b){return a+(c-a)*b},degrees:function(a){return a*(180/Math.PI)},radians:function(a){return a*(Math.PI/180)},getAngle:function(b,a){return Math.atan2(a.y-b.y,a.x-b.x)*180/Math.PI},getSlopeAngle:function(a){return Math.atan(a.width/a.height)*180/Math.PI},getCommonTangents:function(f,d){var m=d.position.x-f.position.x;var l=d.position.y-f.position.y;var b=Math.sqrt(f.bounds.size.area());var a=Math.sqrt(d.bounds.size.area());b/=2;a/=2;var g=f.position.getDistance(d.position);if(g<=Math.abs(a-b)){return}var e=Math.atan2(l,m);var c=Math.acos((b-a)/g);var k=new Point(f.position.x+b*Math.cos(e+c),f.position.y+b*Math.sin(e+c));var j=new Point(d.position.x+a*Math.cos(e+c),d.position.y+a*Math.sin(e+c));var h=new Point(f.position.x+b*Math.cos(e-c),f.position.y+b*Math.sin(e-c));var i=new Point(d.position.x+a*Math.cos(e-c),d.position.y+a*Math.sin(e-c));return[k,j,i,h]},sq:function(a){return a*a},boolToInt:function(a){return(a)?1:0},getType:function(a){if(a instanceof Point){return"Point"}else{if(a instanceof Size){return"Size"}else{if(a instanceof Rectangle){return"Rectangle"}else{if(a instanceof Group){return"Group"}else{if(a instanceof Raster){return"Raster"}else{if(a instanceof Path){return"Path"}else{if(a instanceof CompoundPath){return"CompoundPath"}else{if(a instanceof Symbol){return"Symbol"}else{if(a instanceof TextItem){return"TextItem"}else{return"undefined"}}}}}}}}}},findByName:function(a,b){var e;for(var c=0;c<a.length;c++){var d=a[c];if(d.name==b){e=d}}return e},trimToFit:function(a){var b=a.visibleRange.content;a.content=trim(b);return a},rtrim:function(b){for(var a=b.length-1;b.charAt(a)==" ";a--){b=b.substring(0,a)}return b},trim:function(a){a=a.replace(/(^\s*)|(\s*$)/gi,"");a=a.replace(/[ ]{2,}/gi," ");a=a.replace(/\n /,"\n");return a},strToBool:function(a){switch(a.toLowerCase()){case"true":case"yes":case"1":return true;case"false":case"no":case"0":case null:return false;default:return Boolean(a)}},median:function(a){var b=0;a.sort();if(a.length%2===0){b=(a[a.length/2-1]+a[a.length/2])/2}else{b=a[(a.length-1)/2]}return b},unique:function(b){var c=[];o:for(var d=0,f=b.length;d<f;d++){for(var a=0,e=c.length;a<e;a++){if(c[a]==b[d]){continue o}}c[c.length]=b[d]}return c},merge:function(c,b){var a=c.concat(b);a.shuffle();return a},alphabetical:function(d,c){d=d.toLowerCase();d=d.replace(/ä/g,"a");d=d.replace(/ö/g,"o");d=d.replace(/ü/g,"u");d=d.replace(/ß/g,"s");c=c.toLowerCase();c=c.replace(/ä/g,"a");c=c.replace(/ö/g,"o");c=c.replace(/ü/g,"u");c=c.replace(/ß/g,"s");return(d==c)?0:(d>c)?1:-1},distanceToCenter:function(d,c){var g=d.distanceToCenter();var f=c.distanceToCenter();var e=0;if(g>f){e=-1}else{if(g<f){e=1}}return e}};Array.prototype.max=function(f,d){var e=(f!=undefined)?f:0;var b=(d!=undefined)?d:this.length;var a=this[e];for(var c=(e+1);c<b;c++){if(this[c]>a){a=c}}return a};Array.prototype.min=function(f,d){var e=(f!=undefined)?f:0;var a=(d!=undefined)?d:this.length;var c=this[e];for(var b=(e+1);b<a;b++){if(this[b]<c){c=b}}return c};Array.prototype.shuffle=function(){for(var b,a,c=this.length;c;b=parseInt(Math.random()*c),a=this[--c],this[c]=this[b],this[b]=a){}};global.inject({EPSILON:0.000001,FRAMERATE:12,_event:{count:0,time:0,delta:0},println:function(a){console.log(a);console.log("\n")},Animate:function(d,b){b=(b===undefined)?FRAMERATE:b;var a=parseInt((1/b)*1000);if(d){var c=setInterval(function(){onFrame(a,Update)},a)}},onFrame:function(a,c){a=(a===undefined)?2:a;_event.count++;_event.time+=(a*0.001);_event.delta-=_event.time;try{c(_event)}catch(b){}_event.delta=_event.time}});Point.inject({norm:function(a,b){this.x=frederickkScript.norm(this.x,start.x,stop.x);this.y=frederickkScript.norm(this.y,start.y,stop.y);return this},random:function(b,a){this.x=(b!=undefined)?frederickkScript.random(b[0],b[1]):Math.random()*artboard.bounds.width;this.y=(a!=undefined)?frederickkScript.random(a[0],a[1]):Math.random()*artboard.bounds.height;return this},heading:function(){return -1*(Math.atan2(-this.y,this.x))},interpolateTo:function(b,a){this.x+=((b.x-this.x)*a);this.y+=((b.y-this.y)*a);return this},lerp:function(d,c,b){var a,e;if(typeof c==="number"){a=frederickkScript.lerp(this.x,d.x,c);e=frederickkScript.lerp(this.y,d.y,c)}else{a=frederickkScript.lerp(d.x,c.x,b);e=frederickkScript.lerp(d.y,c.y,b)}return new Point(a,e)},limit:function(a){if(this.magSq()>a*a){this.normalize();this.mult*a;return this}return this},magSq:function(){return this.x*this.x+this.y*this.y},snapGrid:function(c){var b,a;b=Math.round(this.y/c.height-this.x/c.width);a=Math.round(this.y/c.height+this.x/c.width);this.x=(a-b)/2*c.width;this.y=(a+b)/2*c.height;return this},snapIso:function(a){if(a===null){a=1}return this.snapGrid(new Size(32*a,16*a))},getAngle:function(){return Math.atan2(this.y-0,this.x-0)}});Size.inject({random:function(a,d,c,b){a=(a!=undefined)?a:0;d=(d!=undefined)?d:artboard.bounds.width;c=(c!=undefined)?c:0;b=(b!=undefined)?b:artboard.bounds.height;this.width=frederickkScript.random(a,d);this.height=frederickkScript.random(c,b);return this},area:function(){return(this.width*this.height)},outerRadius:function(){var d=this.width/2;var c=this.height/2;return(Math.sqrt(d*d+c*c))}});Color.inject({darken:function(f,c){c=(c==undefined)?false:c;if(!c){this.red-=f;this.red=clamp(this.red,0,1);this.green-=f;this.green=clamp(this.green,0,1);this.blue-=f;this.blue=clamp(this.blue,0,1);return this}else{var e=clamp(this.red-f,0,1);var d=clamp(this.green-f,0,1);var a=clamp(this.blue-f,0,1);return new RGBColor(e,d,a)}},lighten:function(f,c){c=(c==undefined)?false:c;if(!c){this.red+=f;this.red=clamp(this.red,0,1);this.green+=f;this.green=clamp(this.green,0,1);this.blue+=f;this.blue=clamp(this.blue,0,1);return this}else{var e=clamp(this.red+f,0,1);var d=clamp(this.green+f,0,1);var a=clamp(this.blue+f,0,1);return new RGBColor(e,d,a)}},lerp:function(k,j,f){var c,i,m,e,p,d,n;if(k.type=="gray"||this.type=="gray"){if(typeof j==="number"){i=frederickkScript.lerp(this.gray,k.gray,j);n=frederickkScript.lerp(this.alpha,k.alpha,j)}else{i=frederickkScript.lerp(k.gray,j.gray,f);n=frederickkScript.lerp(k.alpha,j.alpha,f)}return new GrayColor(i,n)}else{if(k.type=="rgb"||this.type=="rgb"){if(typeof j==="number"){c=frederickkScript.lerp(this.red,k.red,j);i=frederickkScript.lerp(this.green,k.green,j);m=frederickkScript.lerp(this.blue,k.blue,j);n=frederickkScript.lerp(this.alpha,k.alpha,j)}else{c=frederickkScript.lerp(k.red,j.red,f);i=frederickkScript.lerp(k.green,j.green,f);m=frederickkScript.lerp(k.blue,j.blue,f);n=frederickkScript.lerp(k.alpha,j.alpha,f)}return new RGBColor(c,i,m,n)}}},componentToHex:function(a){var b=a.toString(16);return b.length==1?"0"+b:b},colorToHex:function(){var e,d,a;var f="";try{e=this.red*255;d=this.green*255;a=this.blue*255;f="#"+this.componentToHex(e)+this.componentToHex(d)+this.componentToHex(a)}catch(c){console.log(c)}return f},hex:function(b){if(b.length>=7){b=b.split("#")[1]}else{b=b}var a=parseInt(b,16);this.red=((a>>16)&255)/255;this.green=((a>>8)&255)/255;this.blue=(a&255)/255;return this},colorToInt:function(){var a;try{a=this.red;a=a<<8;a|=this.green;a=a<<8;a|=this.blue}catch(b){console.log(b);a=16777215}return a},integer:function(a){this.red=(a>>16)&255;this.green=(a>>8)&255;this.blue=a&255;return this},bytes:function(d,c,b,a){this.red=d/255;this.green=(c!=undefined)?c/255:d/255;this.blue=(b!=undefined)?b/255:d/255;this.alpha=(a!=undefined)?a/255:1;return this}});GrayColor.inject({random:function(b,a){this.gray=(b!=undefined)?frederickkScript.random(b[0],b[1]):Math.random();this.alpha=(a!=undefined)?frederickkScript.random(a[0],a[1]):Math.random();return this}});RGBColor.inject({random:function(d,c,b,a){this.red=Math.random();this.green=Math.random();this.blue=Math.random();this.alpha=(a!=undefined)?frederickkScript.random(a[0],a[1]):Math.random();return this}});var hsbIndices=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];var HSBColor=function(g,d,k,a){this.type="hsb";this.hue=g;this.saturation=d;this.brightness=k;this.alpha=(a===undefined)?1:a;var e=(this.hue/60)%6,n=this.saturation,l=this.brightness,c=Math.floor(e),j=e-c,c=hsbIndices[c],m=[l,l*(1-n),l*(1-n*j),l*(1-n*(1-j))];return new RGBColor(m[c[0]],m[c[1]],m[c[2]],this.alpha)};var HSLColor=function(n,g,q,b){this.type="hsl";this.hue=n;this.saturation=g;this.lightness=q;this.alpha=(b===undefined)?1:b;var r=this.saturation,k=this.hue/360,a=this.lightness;if(r==0){return new RGBColor(a,a,a,this.alpha)}var j=[k+1/3,k,k-1/3],f=a<0.5?a*(1+r):a+r-a*r,m=2*a-f,p=[];for(var e=0;e<3;e++){var d=j[e];if(d<0){d+=1}if(d>1){d-=1}p[e]=6*d<1?m+(f-m)*6*d:2*d<1?f:3*d<2?m+(f-m)*((2/3)-d)*6:m}return new RGBColor(p[0],p[1],p[2],this.alpha)};frederickkScript.FConversions=function(){this.ptToMm=0.352777778;this.mmToPt=2.83464567;this.ptToCm=0.0352777778;this.CmToPt=28.3464567;this.ptToIn=0.0138888889;this.inToPt=72;this.ptToPi=0.0833333333;this.piToPt=12};frederickkScript.FIO={saveFile:function(b,c){var a=new File(script.file.parent,c);if(a.exists()){a.remove()}a.open();a.write(Json.encode(b));a.close()},openFile:function(c){var a=new File(script.file.parent,c);a.open();var b=Json.decode(a.readAll());a.close();return b},deleteFile:function(b){var a=new File(script.file.parent,b);if(a.exists()){a.remove()}},checkFile:function(b){var a=new File(script.file.parent,b);if(a.exists()){return true}else{return false}}};frederickkScript.FTime.FDate=function(){this.date;var b=["January","February","March","April","May","June","July","August","September","October","November","December"];var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var c=function(d){if(d.length==1){d="0"+d}return d};this.year=function(){if(this.date===undefined){this.date=new Date()}var d=String(this.date.getFullYear());return d};this.month=function(){if(this.date===undefined){this.date=new Date()}var d=String(this.date.getMonth());hour=c(d);return d};this.day=function(){if(this.date===undefined){this.date=new Date()}var d=String(this.date.getDate());return d};this.hour=function(){if(this.date===undefined){this.date=new Date()}var d=String(this.date.getHours());d=c(d);return d};this.minute=function(){if(this.date===undefined){this.date=new Date()}var d=String(this.date.getMinutes());d=c(d);return d};this.second=function(){if(this.date===undefined){this.date=new Date()}var d=String(this.date.getSeconds());d=c(d);return d};this.now=function(e){var d=[];if(e===undefined){d=[true,true,true]}else{d=e}var f="";if(d[0]){f+=this.hour()}if(d[0]&&d[1]){f+=":"}if(d[1]){f+=this.minute()}if(d[1]&&d[2]){f+=":"}if(d[2]){f+=this.second()}return f};this.nowMilliseconds=function(){return this.toMillsecond(this.hour(),this.minute(),this.second())};this.add=function(d,g,e,f){return this.date+(24*d+60*g+60*e+1000*s)};this.sub=function(d,g,e,f){return this.date-(24*d+60*g+60*e+1000*s)};this.set=function(d,g,e,f){this.time=new Date();this.time.setTime((24*d+60*g+60*e+1000*s));return this.time};this.get=function(d,k){var l;if(k===undefined){l=new Array(true,true,true)}else{l=k}var j=parseInt((d/1000)%60);var g=parseInt(((d/1000)/60)%60);var i=parseInt((((d/1000)/60)/60)%24);var e,f,m;if(i<10){e="0"+i}else{e=""+i}if(g<10){f="0"+g}else{f=""+g}if(j<10){m="0"+j}else{m=""+j}var h="";if(l[0]){h+=e}if(l[0]&&l[1]){h+=":"}if(l[1]){h+=f}if(l[1]&&l[2]){h+=":"}if(l[2]){h+=m}return h};this.toMillsecond=function(j,e,i){var g,d,f;if(e===undefined&&i===undefined){g=this.toArray(j)[0];d=this.toArray(j)[1];f=this.toArray(j)[2]}else{g=j;d=e;f=i}return parseInt(3600000*g+60000*d+1000*f)};this.toArray=function(d){var e=d.split(":");return[e[0],e[1],e[2]]}};frederickkScript.FTime.FStepper=function(){var e=1000;var f=0;var h=0;var j=0;var i=false;var c=false;var g=false;var d=true;var a=0.05;var b=true;this.delta=1;this.counter=-1;this.toggle=function(){if(j==0){j=1;this.stepOut()}else{j=0;this.stepIn()}};this.update=function(k){if(i){i=false;f=k;if(c){h=frederickkScript.roundDecimal((k+((1-this.delta)*e)),3)}else{h=frederickkScript.roundDecimal((k+(this.delta*e)),3)}if(h<=k){if(c){c=false;this.delta=1}else{g=false;this.delta=0}}}if(c){this.delta=frederickkScript.roundDecimal((1-((h-k)/e)),3);if(k==h){c=false;this.delta=1;this.counter++;return}}else{if(g){this.delta=frederickkScript.roundDecimal(((h-k)/e),3);if(k==h){c=false;this.delta=0;this.counter++;return}}}};this.stepIn=function(){if(c){return}if(this.delta==1){return}i=true;c=true;g=false};this.stepOut=function(){if(g){return}if(this.delta==0){return}i=true;g=true;c=false};this.isIn=function(){return c};this.isOut=function(){return g};this.isDone=function(){if(this.delta<1&&this.delta>0){return false}else{if(this.delta>=1){this.delta=1;return true}else{if(this.delta<=0){this.delta=0;return true}}}};this.stop=function(){i=c=g=false};this.setSeconds=function(k){this.setMillis(parseInt(k*1000))};this.setMillis=function(k){e=k;e/=1000};this.setDelta=function(k){this.delta=k}};frederickkScript.FTime.FStopwatch=function(){var c;var d;var b=0;var a=0;this.toggle=function(){if(a==0){this.start()}else{this.pause()}};this.start=function(){a=1;d=new Date();d.setTime(d.getTime()-b)};this.pause=function(){a=0;c=new Date();b=c.getTime()-d.getTime()};this.reset=function(){a=0;b=0};this.set=function(e,f){b=e;(f==true)?a=0:a=1;d=new Date();d.setTime(d.getTime()-b);this.toggle()};this.get=function(){if(a==1){c=new Date();b=c.getTime()-d.getTime()}return b};this.isRunning=function(){return(a)?true:false}};var Matrix3D=function(m,l,j,h,e,d,c,b,a,q,p,n,k,i,g,f){this.n11=m||1;this.n12=l||0;this.n13=j||0;this.n14=h||0;this.n21=e||0;this.n22=d||1;this.n23=c||0;this.n24=b||0;this.n31=a||0;this.n32=q||0;this.n33=p||1;this.n34=n||0;this.n41=k||0;this.n42=i||0;this.n43=g||0;this.n44=f||1;this.clone=function(){return new Matrix3D(this.n11,this.n12,this.n13,this.n14,this.n21,this.n22,this.n23,this.n24,this.n31,this.n32,this.n33,this.n34,this.n41,this.n42,this.n43,this.n44)};this.concat=function(r){var t={};t.n11=this.n11*r.n11+this.n12*r.n21+this.n13*r.n31+this.n14*r.n41;t.n12=this.n11*r.n12+this.n12*r.n22+this.n13*r.n32+this.n14*r.n42;t.n13=this.n11*r.n13+this.n12*r.n23+this.n13*r.n33+this.n14*r.n43;t.n14=this.n11*r.n14+this.n12*r.n24+this.n13*r.n34+this.n14*r.n44;t.n21=this.n21*r.n11+this.n22*r.n21+this.n23*r.n31+this.n24*r.n41;t.n22=this.n21*r.n12+this.n22*r.n22+this.n23*r.n32+this.n24*r.n42;t.n23=this.n21*r.n13+this.n22*r.n23+this.n23*r.n33+this.n24*r.n43;t.n24=this.n21*r.n14+this.n22*r.n24+this.n23*r.n34+this.n24*r.n44;t.n31=this.n31*r.n11+this.n32*r.n21+this.n33*r.n31+this.n34*r.n41;t.n32=this.n31*r.n12+this.n32*r.n22+this.n33*r.n32+this.n34*r.n42;t.n33=this.n31*r.n13+this.n32*r.n23+this.n33*r.n33+this.n34*r.n43;t.n34=this.n31*r.n14+this.n32*r.n24+this.n33*r.n34+this.n34*r.n44;t.n41=this.n41*r.n11+this.n42*r.n21+this.n43*r.n31+this.n44*r.n41;t.n42=this.n41*r.n12+this.n42*r.n22+this.n43*r.n32+this.n44*r.n42;t.n43=this.n41*r.n13+this.n42*r.n23+this.n43*r.n33+this.n44*r.n43;t.n44=this.n41*r.n14+this.n42*r.n24+this.n43*r.n34+this.n44*r.n44;this.initialize(t)};this.initialize=function(r){for(var t in r){this[t]=r[t]}};this.createBox=function(A,y,w,u,t,r,z,x,v){this.identity();if(u!=0){this.rotateX(u)}if(t!=0){this.rotateY(t)}if(r!=0){this.rotateZ(r)}if(A!=1||y!=1||w!=1){this.scale(A,y,w)}if(z!=0||x!=0||v!=0){this.translate(z,x,v)}};this.identity=function(){this.initialize({n11:1,n12:0,n13:0,n14:0,n21:0,n22:1,n23:0,n24:0,n31:0,n32:0,n33:1,n34:0,n41:0,n42:0,n43:0,n44:1})};this.rotateX=function(u){var r=Math.sin(u);var t=Math.cos(u);this.concat(new Matrix3D(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1))};this.rotateY=function(u){var r=Math.sin(u);var t=Math.cos(u);this.concat(new Matrix3D(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1))};this.rotateZ=function(u){var r=Math.sin(u);var t=Math.cos(u);this.concat(new Matrix3D(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1))};this.setRotateAxis=function(r,u){var E=Math.cos(u);var B=Math.sin(u);var F=1-E;var D=r.x();var C=r.y();var A=r.z();var w=F*D;var v=F*C;this.concat(w*D+E,w*C-B*A,w*A+B*C,0,w*C+B*A,v*C+E,v*A-B*D,0,w*A-B*C,v*A+B*D,F*A*A+E,0,0,0,0,1)};this.scale=function(u,t,r){this.concat(new Matrix3D(u,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1))};this.translate=function(u,t,r){this.n41+=u;this.n42+=t;this.n43+=r};this.transformPoint=function(r){return new Vertex3D(this.n11*r.x+this.n21*r.y+this.n31*r.z+this.n41,this.n12*r.x+this.n22*r.y+this.n32*r.z+this.n42,this.n13*r.x+this.n23*r.y+this.n33*r.z+this.n43)};this.transformArray=function(t){var w=[];var A=t.length/3;for(var v=0;v<A;v++){var u=v*3;var r=t[u];var C=t[u+1];var B=t[u+2];w[u]=this.n11*r+this.n21*C+this.n31*B+this.n41;w[u+1]=this.n12*r+this.n22*C+this.n32*B+this.n42;w[u+2]=this.n13*r+this.n23*C+this.n33*B+this.n43}return w};this.getPosition=function(){return[this.n12,this.n13,this.n14]};this.setPosition=function(r){this.n12=r.x;this.n13=r.y;this.n14=r.z;return this},this.makeFrustum=function(t,F,r,C,v,u){var G={};var E=2*v/(F-t);var B=2*v/(C-r);var D=(F+t)/(F-t);var A=(C+r)/(C-r);var z=-(u+v)/(u-v);var w=-2*u*v/(u-v);G.n11=E;G.n12=0;G.n13=D;G.n14=0;G.n21=0;G.n22=B;G.n23=A;G.n24=0;G.n31=0;G.n32=0;G.n33=z;G.n34=w;G.n41=0;G.n42=0;G.n43=-1;G.n44=0;this.concat(G)};this.makePerspective=function(w,u,y,t){var r=y*Math.tan(w*Math.PI/360);var x=-r;var z=x*u;var v=r*u;this.makeFrustum(z,v,x,r,y,t)};this.makeOrtho=function(u,H,E,r,B,A){var I={};var G=H-u;var v=E-r;var t=A-B;var F=(H+u)/G;var D=(E+r)/v;var C=(A+B)/t;I.n11=2/G;I.n12=0;I.n13=0;I.n14=-F;I.n21=0;I.n22=2/v;I.n23=0;I.n24=-D;I.n31=0;I.n32=0;I.n33=-2/t;I.n34=-C;I.n41=0;I.n42=0;I.n43=0;I.n44=1;this.concat(I)};this.toString=function(){return this.n11+","+this.n12+","+this.n13+","+this.n14+","+this.n21+","+this.n22+","+this.n23+","+this.n24+","+this.n31+","+this.n32+","+this.n33+","+this.n34+","+this.n41+","+this.n42+","+this.n43+","+this.n44}};Item.inject({radius:0,innerRadius:0,distanceToCenter:function(){var b=this.position.x-artboard.bounds.center.x;var a=this.position.y-artboard.bounds.center.y;return(b*b+a*a)+1},snapGrid:function(a){this.position.snapGrid(a)},snapIso:function(a){this.position.snapIso(a)},toGroup:function(){if(frederickkScript.getType(this)=="CompoundPath"){return new Group(this.children)}else{return this}}});Path.inject({sec:function(a){return 1/Math.cos(a)},getCircumCircle:function(){if(this.segments.length==3){var c=this.segments[0].point;var b=this.segments[1].point;var a=this.segments[2].point;var t=b.x-c.x;var r=b.y-c.y;var q=a.x-c.x;var p=a.y-c.y;var n=t*(c.x+b.x)+r*(c.y+b.y);var m=q*(c.x+a.x)+p*(c.y+a.y);var l=2*(t*(a.y-b.y)-r*(a.x-b.x));var w;var k,j;if(Math.abs(l)<EPSILON){function u(y,x,z){return(y>=x&&y>=z)?y:(x>=y&&x>=z)?x:z}function v(y,x,z){return(y<=x&&y<=z)?y:(x<=y&&x<=z)?x:z}var i=v(c.x,b.x,a.x);var h=v(c.y,b.y,a.y);var g=u(c.x,b.x,a.x);var f=u(c.y,b.y,a.y);w=new Point((i+g)/2,(h+f)/2);k=w.x-i;j=w.y-h}else{var e=(p*n-r*m)/l;var d=(t*m-q*n)/l;w=new Point(e,d);k=w.x-c.x;j=w.y-c.y}this.radius=Math.sqrt((k*k+j*j));return w}else{console.error("Not Path.FTriangle");return null}},inCircumcircle:function(a){var c=this.getCircumCircle().x-a.x;var b=this.getCircumCircle().y-a.y;var d=c*c+b*b;return(d<=sq(this.radius))},getCentroid:function(){if(this.segments.length==3){var c=this.segments[0].point;var b=this.segments[1].point;var a=this.segments[2].point;return new Point((c.x+b.x+a.x)/3,(c.y+b.y+a.y)/3)}else{console.error("Not Path.FTriangle");return null}},statics:new function(){return{FArrow:function(f,c,j){var h=new Path.Line(f,c);j=(j!=undefined)?j:new Size(f.getDistance(c)*0.381924,f.getDistance(c)*0.381924);var b=Math.atan2(f.x-c.x,c.y-f.y);var e=[];e[0]=new Path.Line(new Point(0,0),new Point(-j.width,-j.height));e[1]=new Path.Line(new Point(0,0),new Point(j.width,-j.height));for(var d=0;d<e.length;d++){e[d].rotate(frederickkScript.radians(180+frederickkScript.degrees(b)),new Point(0,0));e[d].translate(f)}var g=new Group();g.appendTop(h);g.appendTop(e[0]);g.appendTop(e[1]);g.name="arrow";return g},FBubble:function(g,b,i,h){var j=new Path();j.name="bubble";i=(i!=undefined)?i:defaultFBubbleTagSize;if(b.width<10){b.width=10;i=new Size(10,10)}h=(h!=undefined)?h:"RANDOM";j.add(new Point(0,0));var d=180;var a=new Point(b.height/2+Math.cos(frederickkScript.radians(d))*(b.height),b.height/2+Math.sin(frederickkScript.radians(d))*(b.height));j.arcTo(a,new Point(0,b.height));var c=frederickkScript.randomInt(0,b.width-i.width);j.add(new Point(c,b.height));var f,e;if(h=="LEFT"){f=c}else{if(h=="CENTER"){f=c+(i.width/2)}else{if(h=="RIGHT"){f=c+i.width}else{f=frederickkScript.randomInt(c,c+i.width)}}}e=b.height+i.height;j.add(new Point(f,e));j.add(new Point(c+i.width,b.height));j.add(new Point(b.width,b.height));d=0;a=new Point(b.height/2+Math.cos(frederickkScript.radians(d))*(b.height/2),b.height/2+Math.sin(frederickkScript.radians(d))*(b.height/2));j.arcTo(new Point(b.width,0),false);j.closed=true;j.position=new Point(g.x,g.y+(i.height/2));return j},FChain:function(h,g,f,e){var d,c;var i=frederickkScript.getType(h);if(i=="Point"){d=new Path.Circle(h,g);c=new Path.Circle(f,e)}else{if(i=="Path"){d=h;c=g}else{return}}var j=frederickkScript.getCommonTangents(d,c);if(j!=null){var k=new Path();k.name="chain";k.add(j[0]);k.add(j[1]);if(c.position.x>d.position.x){angle=0}else{if(c.position.y<d.position.y){angle=-90}else{if(c.position.y>d.position.y){angle=90}else{angle=180}}}var a=new Point(c.position.x+Math.cos(frederickkScript.radians(angle))*(c.bounds.width/2),c.position.y+Math.sin(frederickkScript.radians(angle))*(c.bounds.height/2));k.arcTo(a,j[2]);k.add(j[2]);k.add(j[3]);if(d.position.x>c.position.x){angle=0}else{if(d.position.y<c.position.y){angle=-90}else{if(d.position.y>c.position.y){angle=90}else{angle=180}}}var b=new Point(d.position.x+Math.cos(frederickkScript.radians(angle))*(d.bounds.width/2),d.position.y+Math.sin(frederickkScript.radians(angle))*(d.bounds.height/2));k.arcTo(b,j[0]);k.closed=true;return k}},FCross:function(g,d,f,c){(f!=undefined)?f:1;(c!=undefined)?c:"LINE";var b,a;if(c=="LINE"){b=new Path.Line(g.x+d.width,g.y-d.height,g.x-d.width,g.y+d.height);b.strokeWidth=f;a=new Path.Line(g.x+d.width,g.y+d.height,g.x-d.width,g.y-d.height);a.strokeWidth=f}else{if(c=="SHARP"){b=new Path();b.add(g.x+d.width,g.y-d.height);b.add(g.x+d.width,(g.y-d.height)+(f/2));b.add((g.x-d.width)+(f/2),g.y+d.height);b.add(g.x-d.width,g.y+d.height);b.add(g.x-d.width,(g.y+d.height)-(f/2));b.add((g.x+d.width)-(f/2),g.y-d.height);b.closed=true;a=new Path();a.add(g.x-d.width,g.y-d.height);a.add((g.x-d.width)+(f/2),g.y-d.height);a.add(g.x+d.width,(g.y+d.height)-(f/2));a.add(g.x+d.width,g.y+d.height);a.add((g.x+d.width)-(f/2),g.y+d.height);a.add(g.x-d.width,(g.y-d.height)+(f/2));a.closed=true}}var e=new Group();e.appendTop(b);e.appendTop(a);e.name="cross";return e},FDrop:function(d,a){var c=new Path();c.name="drop";c.add(new Segment(new Point(-0.01,0.01),new Point(0,-0.0055078),new Point(0,0.643042)));c.add(new Segment(new Point(-0.65,1.6381104),new Point(0,-0.6109619),new Point(0,0.3694434)));c.add(new Segment(new Point(0,2.31),new Point(-0.3578369,0),new Point(0.3578369,0)));c.add(new Segment(new Point(0.65,1.6381104),new Point(0,0.3694434),new Point(0,-0.6109619)));c.add(new Segment(new Point(0.01,0.01),new Point(0,0.643042),new Point(0,-0.0055078)));c.add(new Segment(new Point(0,-0),new Point(0.0055078,0),new Point(-0.0055078,0)));c.closed=true;c.position=d;var b=frederickkScript.getType(a);if(b=="Size"){c.scale(a.width,a.height)}else{c.scale(a)}return c},FTriangle:function(d,c,a){var b=new Path();b.add(d);b.add(c);b.add(a);b.closed=true;b.name="triangle";return b}}}});function RasterSetup(){var a=false;var b=document.getItems({type:[Raster,PlacedFile],selected:true});if(b.length>0){raster=b.first;a=true;if(raster instanceof PlacedFile&&!raster.eps){raster=raster.embed(false)}}else{a=false}if(a){raster.selected=false}else{console.log("Please select a valid image")}return a}function RasterSelection(g,e,a,c){e=(e===undefined)?0:e;a=(a===undefined)?0:a;c=(c===undefined)?72:c;var d=new Group();for(var b=0;b<g.length;b++){var h=g[b].clone();d.appendTop(h);g[b].selected=false}var f=new Path.Rectangle(d.bounds);f.bounds.width+=e;f.bounds.height+=a;f.position=d.position;f.fillColor=null;f.strokeColor=null;d.appendBottom(f);raster=d.rasterize("rgb",c,0);raster.selected=false;isRasterValid=true;d.remove();return raster};